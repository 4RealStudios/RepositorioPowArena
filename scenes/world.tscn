[gd_scene load_steps=41 format=3 uid="uid://l5jts8o0sprl"]

[ext_resource type="Script" uid="uid://bsohmxmgvv25n" path="res://scripts/world.gd" id="1_7iits"]
[ext_resource type="Script" uid="uid://c6slmgmnxfx4s" path="res://scripts/GameManager.gd" id="1_71j4m"]
[ext_resource type="PackedScene" uid="uid://bhkidw16jmgu8" path="res://scenes/player_1.tscn" id="1_nnsk1"]
[ext_resource type="PackedScene" uid="uid://sy2lna8eygog" path="res://maps/mapas faciles/map1.tscn" id="2_71j4m"]
[ext_resource type="PackedScene" uid="uid://be63ponjlchls" path="res://scenes/PowerUp.tscn" id="2_lakw3"]
[ext_resource type="PackedScene" uid="uid://cktvsan1pxk0e" path="res://scenes/player_2.tscn" id="2_rwgxs"]
[ext_resource type="PackedScene" uid="uid://dgt1eq4u57als" path="res://maps/mapas faciles/map2.tscn" id="3_qfnet"]
[ext_resource type="PackedScene" uid="uid://bfx2te4m6d68r" path="res://maps/mapas faciles/map3.tscn" id="4_i7141"]
[ext_resource type="Script" uid="uid://ccjtq0iws17x4" path="res://scripts/HUD.gd" id="4_qfnet"]
[ext_resource type="PackedScene" uid="uid://c8g30ggrsi6j7" path="res://maps/mapas medios/map4.tscn" id="5_w7kh3"]
[ext_resource type="PackedScene" uid="uid://oqj8f7sai6ex" path="res://maps/mapas dificiles/map7.tscn" id="6_e3hyu"]
[ext_resource type="PackedScene" uid="uid://db8slb11x77vo" path="res://maps/mapas medios/map5.tscn" id="6_jhx03"]
[ext_resource type="PackedScene" uid="uid://b4h06tr3av61k" path="res://maps/mapas medios/map6.tscn" id="7_o8fc1"]
[ext_resource type="PackedScene" uid="uid://6uhodm3vtat3" path="res://maps/mapas dificiles/map8.tscn" id="9_dss4m"]
[ext_resource type="PackedScene" uid="uid://bqybbvhaekt0c" path="res://maps/mapas dificiles/map9.tscn" id="10_7t5mc"]
[ext_resource type="Script" uid="uid://cefemdlqm16qn" path="res://scripts/rounds_results.gd" id="11_q5onr"]
[ext_resource type="Texture2D" uid="uid://bplqiuk6gfjy" path="res://assets/HUD/controles (1).png" id="13_7iits"]
[ext_resource type="Texture2D" uid="uid://c34rqh7b5ogb" path="res://assets/HUD/321 pow.png" id="14_ctatt"]
[ext_resource type="Texture2D" uid="uid://bha6iuqedau6m" path="res://assets/HUD/iconos.png" id="17_7iits"]
[ext_resource type="Script" uid="uid://dnt1lw7cngye7" path="res://scripts/fade_area.gd" id="17_pm21f"]
[ext_resource type="Texture2D" uid="uid://bt5nol650knao" path="res://assets/HUD/hud iconos vida.png" id="18_kpybi"]
[ext_resource type="Texture2D" uid="uid://bb17qf4su1565" path="res://assets/PowerUps/power ups.png" id="18_oo54l"]
[ext_resource type="Script" uid="uid://d040v84fg8xhj" path="res://scripts/camera_2d.gd" id="20_2lf6f"]
[ext_resource type="Texture2D" uid="uid://caf7uto4qrwfr" path="res://assets/HUD/tablero rondas 5r.png" id="22_ctatt"]

[sub_resource type="AtlasTexture" id="AtlasTexture_37qwj"]
atlas = ExtResource("14_ctatt")
region = Rect2(144, 0, 90, 57)

[sub_resource type="AtlasTexture" id="AtlasTexture_kpybi"]
atlas = ExtResource("18_oo54l")
region = Rect2(48, 0, 14, 14)

[sub_resource type="AtlasTexture" id="AtlasTexture_ctatt"]
atlas = ExtResource("18_oo54l")
region = Rect2(32, 0, 14, 14)

[sub_resource type="AtlasTexture" id="AtlasTexture_xgqkh"]
atlas = ExtResource("18_oo54l")
region = Rect2(0, 0, 14, 14)

[sub_resource type="AtlasTexture" id="AtlasTexture_w7kh3"]
atlas = ExtResource("18_kpybi")
region = Rect2(0, 96, 11, 11)

[sub_resource type="AtlasTexture" id="AtlasTexture_e3hyu"]
atlas = ExtResource("18_kpybi")
region = Rect2(0, 96, 11, 11)

[sub_resource type="AtlasTexture" id="AtlasTexture_0nbtd"]
atlas = ExtResource("18_oo54l")
region = Rect2(0, 0, 14, 14)

[sub_resource type="AtlasTexture" id="AtlasTexture_munwf"]
atlas = ExtResource("18_oo54l")
region = Rect2(32, 0, 14, 14)

[sub_resource type="AtlasTexture" id="AtlasTexture_ts3gi"]
atlas = ExtResource("18_oo54l")
region = Rect2(48, 0, 14, 14)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2lf6f"]
size = Vector2(92, 34)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_pm21f"]
size = Vector2(92, 34)

[sub_resource type="AtlasTexture" id="AtlasTexture_q5onr"]
atlas = ExtResource("22_ctatt")

[sub_resource type="AtlasTexture" id="AtlasTexture_xo05s"]
atlas = ExtResource("17_7iits")
region = Rect2(10, 50, 8, 8)

[sub_resource type="AtlasTexture" id="AtlasTexture_dss4m"]
atlas = ExtResource("17_7iits")
region = Rect2(0, 50, 8, 8)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_nnsk1"]
size = Vector2(329.75, 5.96272)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_rwgxs"]
size = Vector2(4.71893, 180)

[node name="Word" type="Node2D"]
script = ExtResource("1_7iits")

[node name="GameManager" type="Node2D" parent="."]
script = ExtResource("1_71j4m")
PowerUpScene = ExtResource("2_lakw3")
easy_maps = Array[PackedScene]([ExtResource("2_71j4m"), ExtResource("3_qfnet"), ExtResource("4_i7141")])
midium_maps = Array[PackedScene]([ExtResource("5_w7kh3"), ExtResource("6_jhx03"), ExtResource("7_o8fc1")])
hard_maps = Array[PackedScene]([ExtResource("6_e3hyu"), ExtResource("9_dss4m"), ExtResource("10_7t5mc")])

[node name="ControlScreen" type="Control" parent="GameManager"]
visible = false
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="MarginContainer" type="MarginContainer" parent="GameManager/ControlScreen"]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = 280.0
offset_bottom = 140.0
grow_horizontal = 2
grow_vertical = 2

[node name="TextureRect" type="TextureRect" parent="GameManager/ControlScreen/MarginContainer"]
visible = false
layout_mode = 2
texture = ExtResource("13_7iits")
expand_mode = 3

[node name="Timer" type="Timer" parent="GameManager/ControlScreen"]
wait_time = 3.0
one_shot = true

[node name="CountdownTimer" type="Timer" parent="GameManager"]

[node name="CountdownSprite" type="Sprite2D" parent="GameManager"]
position = Vector2(160, 90)
texture = SubResource("AtlasTexture_37qwj")

[node name="player1" parent="GameManager" groups=["Players"] instance=ExtResource("1_nnsk1")]
visible = false
position = Vector2(16, 89)

[node name="player2" parent="GameManager" groups=["Players"] instance=ExtResource("2_rwgxs")]
visible = false
position = Vector2(299, 90)
rotation = -1.5708

[node name="HUD" type="CanvasLayer" parent="GameManager"]
script = ExtResource("4_qfnet")

[node name="MarginContainer" type="MarginContainer" parent="GameManager/HUD"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 5.0
offset_top = 5.0
offset_right = -5.0
offset_bottom = -10.0
grow_horizontal = 2
grow_vertical = 2

[node name="HBoxContainer" type="HBoxContainer" parent="GameManager/HUD/MarginContainer"]
layout_mode = 2
size_flags_vertical = 0

[node name="P1_HUD" type="HBoxContainer" parent="GameManager/HUD/MarginContainer/HBoxContainer"]
layout_mode = 2
size_flags_vertical = 0

[node name="P1_ICON" type="VBoxContainer" parent="GameManager/HUD/MarginContainer/HBoxContainer/P1_HUD"]
layout_mode = 2
size_flags_vertical = 0

[node name="Icon_Player1" type="TextureRect" parent="GameManager/HUD/MarginContainer/HBoxContainer/P1_HUD/P1_ICON"]
layout_mode = 2
stretch_mode = 2

[node name="PowerUpsP1" type="HBoxContainer" parent="GameManager/HUD/MarginContainer/HBoxContainer/P1_HUD/P1_ICON"]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 8

[node name="powerup_speed_p1" type="TextureRect" parent="GameManager/HUD/MarginContainer/HBoxContainer/P1_HUD/P1_ICON/PowerUpsP1"]
visible = false
custom_minimum_size = Vector2(10, 10)
layout_mode = 2
texture = SubResource("AtlasTexture_kpybi")
expand_mode = 1
stretch_mode = 5

[node name="powerup_shield_p1" type="TextureRect" parent="GameManager/HUD/MarginContainer/HBoxContainer/P1_HUD/P1_ICON/PowerUpsP1"]
visible = false
custom_minimum_size = Vector2(10, 10)
layout_mode = 2
texture = SubResource("AtlasTexture_ctatt")
expand_mode = 1
stretch_mode = 5

[node name="powerup_bounce_p1" type="TextureRect" parent="GameManager/HUD/MarginContainer/HBoxContainer/P1_HUD/P1_ICON/PowerUpsP1"]
visible = false
custom_minimum_size = Vector2(10, 10)
layout_mode = 2
texture = SubResource("AtlasTexture_xgqkh")
expand_mode = 1
stretch_mode = 5

[node name="Vida1_P1" type="TextureRect" parent="GameManager/HUD/MarginContainer/HBoxContainer/P1_HUD"]
layout_mode = 2
texture = SubResource("AtlasTexture_w7kh3")
stretch_mode = 2

[node name="Vida2_P1" type="TextureRect" parent="GameManager/HUD/MarginContainer/HBoxContainer/P1_HUD"]
layout_mode = 2
texture = SubResource("AtlasTexture_w7kh3")
stretch_mode = 2

[node name="Vida3_P1" type="TextureRect" parent="GameManager/HUD/MarginContainer/HBoxContainer/P1_HUD"]
layout_mode = 2
texture = SubResource("AtlasTexture_w7kh3")
stretch_mode = 2

[node name="P2_HUD" type="HBoxContainer" parent="GameManager/HUD/MarginContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 10

[node name="Vida1_P2" type="TextureRect" parent="GameManager/HUD/MarginContainer/HBoxContainer/P2_HUD"]
layout_mode = 2
texture = SubResource("AtlasTexture_e3hyu")
stretch_mode = 2

[node name="Vida2_P2" type="TextureRect" parent="GameManager/HUD/MarginContainer/HBoxContainer/P2_HUD"]
layout_mode = 2
texture = SubResource("AtlasTexture_e3hyu")
stretch_mode = 2

[node name="Vida3_P2" type="TextureRect" parent="GameManager/HUD/MarginContainer/HBoxContainer/P2_HUD"]
layout_mode = 2
texture = SubResource("AtlasTexture_e3hyu")
stretch_mode = 4

[node name="P2_ICON" type="VBoxContainer" parent="GameManager/HUD/MarginContainer/HBoxContainer/P2_HUD"]
layout_mode = 2
size_flags_horizontal = 10
size_flags_vertical = 0

[node name="Icon_Player2" type="TextureRect" parent="GameManager/HUD/MarginContainer/HBoxContainer/P2_HUD/P2_ICON"]
layout_mode = 2
size_flags_horizontal = 8
stretch_mode = 2

[node name="PowerUpsP2" type="HBoxContainer" parent="GameManager/HUD/MarginContainer/HBoxContainer/P2_HUD/P2_ICON"]
layout_mode = 2
size_flags_vertical = 8

[node name="powerup_bounce_p2" type="TextureRect" parent="GameManager/HUD/MarginContainer/HBoxContainer/P2_HUD/P2_ICON/PowerUpsP2"]
visible = false
custom_minimum_size = Vector2(10, 10)
layout_mode = 2
texture = SubResource("AtlasTexture_0nbtd")
expand_mode = 1
stretch_mode = 5

[node name="powerup_shield_p2" type="TextureRect" parent="GameManager/HUD/MarginContainer/HBoxContainer/P2_HUD/P2_ICON/PowerUpsP2"]
visible = false
custom_minimum_size = Vector2(10, 10)
layout_mode = 2
texture = SubResource("AtlasTexture_munwf")
expand_mode = 1
stretch_mode = 5

[node name="powerup_speed_p2" type="TextureRect" parent="GameManager/HUD/MarginContainer/HBoxContainer/P2_HUD/P2_ICON/PowerUpsP2"]
visible = false
custom_minimum_size = Vector2(10, 10)
layout_mode = 2
texture = SubResource("AtlasTexture_ts3gi")
expand_mode = 1
stretch_mode = 5

[node name="FadeArea" type="Area2D" parent="GameManager/HUD/MarginContainer/HBoxContainer" node_paths=PackedStringArray("hud_root")]
position = Vector2(5, 6)
script = ExtResource("17_pm21f")
hud_root = NodePath("..")

[node name="CollisionShape2D" type="CollisionShape2D" parent="GameManager/HUD/MarginContainer/HBoxContainer/FadeArea"]
position = Vector2(36, 6)
shape = SubResource("RectangleShape2D_2lf6f")

[node name="FadeArea2" type="Area2D" parent="GameManager/HUD/MarginContainer/HBoxContainer" node_paths=PackedStringArray("hud_root")]
position = Vector2(-5, 6)
script = ExtResource("17_pm21f")
hud_root = NodePath("..")

[node name="CollisionShape2D" type="CollisionShape2D" parent="GameManager/HUD/MarginContainer/HBoxContainer/FadeArea2"]
position = Vector2(274, 6)
shape = SubResource("RectangleShape2D_pm21f")

[node name="RoundsResults" type="Control" parent="GameManager/HUD" groups=["rounds_ui"]]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("11_q5onr")

[node name="background" type="TextureRect" parent="GameManager/HUD/RoundsResults"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="RoundsPanel" type="TextureRect" parent="GameManager/HUD/RoundsResults"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -40.0
offset_top = -24.0
offset_right = 40.0
offset_bottom = 24.0
grow_horizontal = 2
grow_vertical = 2
texture = SubResource("AtlasTexture_q5onr")
stretch_mode = 2

[node name="iconP1" type="TextureRect" parent="GameManager/HUD/RoundsResults/RoundsPanel"]
layout_mode = 0
offset_left = 7.0
offset_top = 1.0
offset_right = 21.0
offset_bottom = 19.0
stretch_mode = 5

[node name="iconP2" type="TextureRect" parent="GameManager/HUD/RoundsResults/RoundsPanel"]
layout_mode = 0
offset_left = 7.0
offset_top = 25.0
offset_right = 21.0
offset_bottom = 43.0
stretch_mode = 5

[node name="P1Rounds" type="HBoxContainer" parent="GameManager/HUD/RoundsResults"]
layout_mode = 0
offset_left = 148.0
offset_top = 74.0
offset_right = 204.0
offset_bottom = 82.0

[node name="Slot1" type="TextureRect" parent="GameManager/HUD/RoundsResults/P1Rounds"]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
texture = SubResource("AtlasTexture_xo05s")
stretch_mode = 2

[node name="Slot2" type="TextureRect" parent="GameManager/HUD/RoundsResults/P1Rounds"]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
texture = SubResource("AtlasTexture_xo05s")
stretch_mode = 2

[node name="Slot3" type="TextureRect" parent="GameManager/HUD/RoundsResults/P1Rounds"]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
texture = SubResource("AtlasTexture_xo05s")
stretch_mode = 2

[node name="Slot4" type="TextureRect" parent="GameManager/HUD/RoundsResults/P1Rounds"]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
texture = SubResource("AtlasTexture_xo05s")
stretch_mode = 2

[node name="Slot5" type="TextureRect" parent="GameManager/HUD/RoundsResults/P1Rounds"]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
texture = SubResource("AtlasTexture_xo05s")
stretch_mode = 2

[node name="P2Rounds" type="HBoxContainer" parent="GameManager/HUD/RoundsResults"]
layout_mode = 0
offset_left = 148.0
offset_top = 98.0
offset_right = 204.0
offset_bottom = 106.0

[node name="Slot1" type="TextureRect" parent="GameManager/HUD/RoundsResults/P2Rounds"]
layout_mode = 2
texture = SubResource("AtlasTexture_dss4m")
stretch_mode = 2

[node name="Slot2" type="TextureRect" parent="GameManager/HUD/RoundsResults/P2Rounds"]
layout_mode = 2
texture = SubResource("AtlasTexture_dss4m")
stretch_mode = 2

[node name="Slot3" type="TextureRect" parent="GameManager/HUD/RoundsResults/P2Rounds"]
layout_mode = 2
texture = SubResource("AtlasTexture_dss4m")
stretch_mode = 2

[node name="Slot4" type="TextureRect" parent="GameManager/HUD/RoundsResults/P2Rounds"]
layout_mode = 2
texture = SubResource("AtlasTexture_dss4m")
stretch_mode = 2

[node name="Slot5" type="TextureRect" parent="GameManager/HUD/RoundsResults/P2Rounds"]
layout_mode = 2
texture = SubResource("AtlasTexture_dss4m")
stretch_mode = 2

[node name="CanvasLayer" type="CanvasLayer" parent="GameManager"]

[node name="WhiteFlash" type="ColorRect" parent="GameManager/CanvasLayer"]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="LimitMap" type="Node2D" parent="."]

[node name="wall" type="StaticBody2D" parent="LimitMap"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="LimitMap/wall"]
position = Vector2(160.25, -2.98136)
shape = SubResource("RectangleShape2D_nnsk1")

[node name="wall2" type="StaticBody2D" parent="LimitMap"]
position = Vector2(0, 668)

[node name="CollisionShape2D" type="CollisionShape2D" parent="LimitMap/wall2"]
position = Vector2(161, -486)
scale = Vector2(1, 0.719195)
shape = SubResource("RectangleShape2D_nnsk1")

[node name="wall3" type="StaticBody2D" parent="LimitMap"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="LimitMap/wall3"]
position = Vector2(-2.35947, 90)
shape = SubResource("RectangleShape2D_rwgxs")

[node name="wall4" type="StaticBody2D" parent="LimitMap"]
position = Vector2(1172, 4)

[node name="CollisionShape2D" type="CollisionShape2D" parent="LimitMap/wall4"]
position = Vector2(-849.594, 86)
shape = SubResource("RectangleShape2D_rwgxs")

[node name="Camera2D" type="Camera2D" parent="." groups=["camara"]]
position = Vector2(160, 90)
script = ExtResource("20_2lf6f")

[connection signal="timeout" from="GameManager/ControlScreen/Timer" to="GameManager" method="_on_timer_timeout"]
